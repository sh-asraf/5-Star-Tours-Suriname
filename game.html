<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Puzzle Game | 5 Star Tours Suriname</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Link to custom CSS -->
  <link rel="stylesheet" href="tours.css">

  <!-- Bootstrap CSS & JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <audio id="victorySound" src="goodresultgamesound.mp3.mp3" preload="auto"></audio>
</head>

<body class="game-page">

    <!-- Loader Animation -->
  <div class="loader">
    <div class="spinner"></div>
  </div>

  <!-- Header & Navigation -->
  <header>
    <div class="logo-wrapper text-center">
      <a href="index.html">
        <img src="logo.png" alt="5 Star Tours Suriname Logo" class="logo-img">
      </a>
    </div>
    <nav class="nav-bar">
      <ul class="nav">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="videos.html">Visuals</a></li>
        <li class="nav-item"><a class="nav-link" href="aboutus.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
        <li class="nav-item"><a class="nav-link active" href="game.html">Free Game</a></li>

        <!-- Drop-down Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            External Links
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.booking.com/country/sr.en.html?aid=1610687;label=sr-5ElaeUpGB0Yet*cl18cUkwS541266364289:pl:ta:p1:p2:ac:ap:neg:fi:tikwd-579034197966:lp1012114:li:dec:dm:ppccp=UmFuZG9tSVYkc2RlIyh9YfpWGnRw6lOGgfEoJVv7zYo;ws=&gad_source=1&gad_campaignid=1573210299&gbraid=0AAAAAD_Ls1KssuhnVb_tlhgOaTrJk_Z-X&gclid=Cj0KCQjw3OjGBhDYARIsADd-uX7JFO5ipkrG1ljTrF43IUmAvNK_TdJYITljc0hxZGbKVjTGrwPC5joaAl6KEALw_wcB" target="_blank">Booking.com</a></li>
            <li><a class="dropdown-item" href="https://www.tripadvisor.com/Tourism-g294082-Paramaribo_Paramaribo_District-Vacations.html" target="_blank">TripAdvisor</a></li>
            <li><a class="dropdown-item" href="https://allsurinametours.com/" target="_blank">All Suriname Tours</a></li>
          </ul>
        </li>
      </ul>

      
      <!-- Search Bar -->
      <form class="search-form" action="https://www.google.com/search" method="get" target="_blank">
        <input type="text" name="q" placeholder="Search..." />
        <button type="submit">Search</button>
      </form>
    </nav>
  </header>

      <!-- Sidemenu: Floating External Links -->
<div class="floating-side-menu">
  <h5>Beyond the Map</h5>
  <ul>
    <li><a class="dropdown-item" href="https://www.booking.com/country/sr.en.html?aid=1610687;label=sr-5ElaeUpGB0Yet*cl18cUkwS541266364289:pl:ta:p1:p2:ac:ap:neg:fi:tikwd-579034197966:lp1012114:li:dec:dm:ppccp=UmFuZG9tSVYkc2RlIyh9YfpWGnRw6lOGgfEoJVv7zYo;ws=&gad_source=1&gad_campaignid=1573210299&gbraid=0AAAAAD_Ls1KssuhnVb_tlhgOaTrJk_Z-X&gclid=Cj0KCQjw3OjGBhDYARIsADd-uX7JFO5ipkrG1ljTrF43IUmAvNK_TdJYITljc0hxZGbKVjTGrwPC5joaAl6KEALw_wcB" target="_blank">Booking.com</a></li>
    <li><a class="dropdown-item" href="https://www.tripadvisor.com/Tourism-g294082-Paramaribo_Paramaribo_District-Vacations.html" target="_blank">TripAdvisor</a></li>
    <li><a class="dropdown-item" href="https://allsurinametours.com/" target="_blank">All Suriname Tours</a></li>
  </ul>
</div>


  <!-- Game Content -->
  <div class="container my-5">
   <h1 class="h1s1">Jigsaw Puzzle Game</h1>
   <p class="h1s2">Drag or tap the pieces to the correct spot!</p>
   <p class="pgame">ðŸ“± Send us a screenshot on WhatsApp!</p>

    <div id="puzzle"></div>
    <p id="message" class="mt-3"></p>

  <div class="mt-3 text-center">
  <p><strong>Time:</strong> <span id="timer">0:00</span></p>
  <p><strong>Moves:</strong> <span id="moves">0</span></p>
  <button onclick="resetGame()" class="btn btn-success">Play Again</button>
</div>
  </div>

  <!-- Game Script -->
  <script>
    const puzzle = document.getElementById("puzzle");
    const message = document.getElementById("message");
    const size = 4;
    let order = [];
    let seconds = 0;
    let moves = 0;
    let timerInterval;
    let dragged;

    function startTimer() {
      timerInterval = setInterval(() => {
        seconds++;
        const min = Math.floor(seconds / 60);
        const sec = seconds % 60;
        document.getElementById("timer").textContent = `${min}:${sec.toString().padStart(2, '0')}`;
      }, 1000);
    }

    function incrementMoves() {
      moves++;
      document.getElementById("moves").textContent = moves;
    }

    function resetGame() {
      clearInterval(timerInterval);
      seconds = 0;
      moves = 0;
      document.getElementById("timer").textContent = "0:00";
      document.getElementById("moves").textContent = "0";
      order = shuffle([...Array(size * size).keys()]);
      Array.from(puzzle.children).forEach((piece, i) => {
        piece.style.order = order[i];
      });
      message.textContent = "";
    startTimer();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Generate puzzle pieces
    for (let row = 0; row < size; row++) {
      for (let col = 0; col < size; col++) {
        let index = row * size + col;
        order.push(index);

        let piece = document.createElement("div");
        piece.classList.add("piece");
        piece.style.backgroundPosition = `-${col * 100}px -${row * 100}px`;
        piece.setAttribute("data-index", index);
        piece.draggable = true;

        puzzle.appendChild(piece);
      }
    }

    // Shuffle pieces
    order = shuffle(order);
    Array.from(puzzle.children).forEach((piece, i) => {
      piece.style.order = order[i];
    });

    // Drag & drop logic
    puzzle.addEventListener("dragstart", e => {

      dragged = e.target;
    });

    puzzle.addEventListener("dragover", e => {
      e.preventDefault();
  
    });

    puzzle.addEventListener("drop", e => {
      if (e.target.classList.contains("piece")) {
        let tempOrder = dragged.style.order;
        dragged.style.order = e.target.style.order;
        e.target.style.order = tempOrder;
        incrementMoves();
        checkWin();
      }
    });

    // Touch events for mobile
    puzzle.addEventListener("touchstart", e => {
      dragged = e.target;
    });

    puzzle.addEventListener("touchmove", e => {
      e.preventDefault();
    });

    puzzle.addEventListener("touchend", e => {
      const touch = e.changedTouches[0];
      const target = document.elementFromPoint(touch.clientX, touch.clientY);
      if (target && target.classList.contains("piece")) {
        let tempOrder = dragged.style.order;
        dragged.style.order = target.style.order;
        target.style.order = tempOrder;
        incrementMoves();
        checkWin();
      }
    });

    function checkWin() {
      let solved = true;
      Array.from(puzzle.children).forEach(piece => {
        if (piece.style.order != piece.getAttribute("data-index")) {
          solved = false;
        }
      });
      if (solved) {
        clearInterval(timerInterval);
        message.textContent = "ðŸŽ‰ Congratulations! You solved the puzzle!";
        document.getElementById("victorySound").play(); // Victory sound!
    
      }
    }

    // Start timer on load
    startTimer();
  </script>

  <!-- Footer -->
  <footer class="footer mt-5 bg-dark text-white pt-4">
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-4">
          <h5>5 Star Tours Suriname</h5>
          <p>Experience Suriname with our top-rated tours.<br>Cultural, Adventurous, and Unforgettable!</p>
          <p>Email: info@5startours.sr<br>Phone: +597 8958705</p>
        </div>
      </div>
    </div>
  </footer>

</body>
</html>
